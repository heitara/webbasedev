<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="memberInfo">
	<typeAlias alias="member" type="com.gameif.portal.entity.MemberInfo" />
	
	<resultMap class="com.gameif.portal.entity.MemberInfo" id="memberResult">
		<result property="memNum" column="mem_num"/>
		<result property="memId" column="mem_id"/>
		<result property="mempwd" column="mem_pwd"/>
		<result property="mailPc" column="mail_pc"/>
	</resultMap>

	<select id="selectByKey" parameterClass="member" resultMap="memberResult">   
        <![CDATA[
        SELECT
			mem_num,
			mem_id,
			mem_pwd,
			mail_pc
		FROM
			member_info
		WHERE
			mem_id = #memId#
		AND
			mem_pwd = #mempwd#
        ]]>
	</select>

	<insert id = "save" parameterClass="member">
		INSERT INTO
			member_info
			(mem_id,
			mem_pwd,
			mail_pc,
			mem_atbt_cd)
		VALUES
			(#memId#,
			#mempwd#,
			#mailPc#,
			'1')
	</insert>
	
	<update id="updatePerson" parameterClass="member">
      <![CDATA[
		UPDATE
			member_info
		SET
		    mem_pwd = #mempwd#,
		    mail_pc = #mailPc#
		WHERE
			mem_id = #memId#
      ]]>
	</update>
	
	<update id="updatePwd" parameterClass="member">
      <![CDATA[
		UPDATE
			member_info
		SET
		    mem_pwd = #newpwd#
		WHERE
			mem_id = #memId#
		AND
			mem_pwd = #mempwd#
      ]]>
	</update>


</sqlMap>